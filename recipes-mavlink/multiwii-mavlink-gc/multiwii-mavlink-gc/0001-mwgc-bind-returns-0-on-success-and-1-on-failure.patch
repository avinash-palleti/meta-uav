From 8c7db64cfe2e6b8addf0b52a7acbadaa15e7e83d Mon Sep 17 00:00:00 2001
From: Koen Kooi <koen@dominion.thruhere.net>
Date: Mon, 21 Apr 2014 15:49:11 +0200
Subject: [PATCH] mwgc: bind() returns 0 on success and -1 on failure

Don't error out on success.

Signed-off-by: Koen Kooi <koen@dominion.thruhere.net>
---
 src/mavlink/mwgc.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/src/mavlink/mwgc.c b/src/mavlink/mwgc.c
index 2b44cce..1c0f0a9 100644
--- a/src/mavlink/mwgc.c
+++ b/src/mavlink/mwgc.c
@@ -155,8 +155,8 @@ int main(int argc, char* argv[])
     locAddr.sin_port = htons(14551);
 
     /* Bind the socket to port 14551 - necessary to receive packets from qgroundcontrol */
-    if (NOK == bind(sock, (struct sockaddr *)&locAddr, sizeof(struct sockaddr))) {
-        perror("error bind failed");
+    if (NOK != bind(sock, (struct sockaddr *)&locAddr, sizeof(struct sockaddr))) {
+        perror("error bind to port 14551 failed");
         eexit(EXIT_FAILURE);
     }
 
-- 
1.9.2

